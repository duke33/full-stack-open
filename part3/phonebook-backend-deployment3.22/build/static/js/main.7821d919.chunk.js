(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{40:function(e,n,t){"use strict";t.r(n);var r=t(1),c=t.n(r),o=t(16),u=t.n(o),a=(t(7),t(6)),i=t(3),s=t(0),l=function(e){var n=e.arrayOfpersons,t=e.searchTerm,r=e.deleteButton;if("undefined"===typeof n)return Object(s.jsx)("p",{children:" "});var c=""===t?n:n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return Object(s.jsxs)("ul",{children:[" ",c.map((function(e){return Object(s.jsxs)("li",{children:[" ",e.name," ",e.number," ",Object(s.jsx)("button",{onClick:function(){return r(e.id)},children:" Delete "})," "]},e.name)}))," "]})},d=function(e){var n=e.handler;return Object(s.jsxs)("form",{children:["filter shown with",Object(s.jsx)("input",{type:"search",placeholder:"Search...",onChange:n})]})},b=function(e){var n=e.addPerson,t=e.newName,r=e.handleNameChange,c=e.newNumber,o=e.handleNumberChange;return Object(s.jsxs)("form",{onSubmit:n,children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)("input",{value:t,onChange:r})]}),Object(s.jsxs)("div",{children:["number:",Object(s.jsx)("input",{type:"tel",placeholder:"999-99999999",value:c,onChange:o})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"Add"})})]})},j=t(4),f=t.n(j),h="/api/persons",m=function(){return f.a.get(h).then((function(e){return e.data}))},O=function(e){return f.a.post(h,e).then((function(e){return e.data}))},p=function(e){return f.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))},v=function(e,n){return f.a.put("".concat(h,"/").concat(e.id),n).then((function(e){return e.data}))},g=function(e){var n=e.message;return null===n?null:Object(s.jsx)("div",{className:"succes",children:n})},x=function(e){var n=e.message;return null===n?null:Object(s.jsx)("div",{className:"error",children:n})},w=function(){var e=Object(r.useState)(),n=Object(i.a)(e,2),t=n[0],c=n[1],o=Object(r.useState)(""),u=Object(i.a)(o,2),j=u[0],f=u[1],h=Object(r.useState)(""),w=Object(i.a)(h,2),C=w[0],N=w[1],y=Object(r.useState)(""),S=Object(i.a)(y,2),T=S[0],k=S[1],P=Object(r.useState)(null),q=Object(i.a)(P,2),B=q[0],D=q[1],F=Object(r.useState)(null),L=Object(i.a)(F,2),A=L[0],I=L[1];Object(r.useEffect)((function(){m().then((function(e){return c(e)}))}),[]);return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:" Phonebook "}),Object(s.jsx)(g,{message:B}),Object(s.jsx)(x,{message:A}),Object(s.jsx)(d,{handler:function(e){k(e.target.value)}})," ",Object(s.jsx)("h2",{children:" add a new contact "})," ",Object(s.jsx)(b,{addPerson:function(e){e.preventDefault();var n={name:j,number:C};if(!n.name)return I("You must provide a contact name"),void setTimeout((function(){I(null)}),5e3);if(!n.number)return I("You must provide a phone number"),void setTimeout((function(){I(null)}),5e3);var r=t.find((function(e){return e.name.toUpperCase()===j.toUpperCase()}));if(r)return window.confirm("".concat(n.name," is already added to phonebook, replace the older number with a new one? ?"))?void v(r,n).then((function(e){console.log("result que no anda: ",e),c(t.map((function(e){return e.id!==r.id?e:Object(a.a)(Object(a.a)({},e),{},{number:n.number})}))),D("Number succesfully changed to ".concat(n.number)),f(""),N(""),setTimeout((function(){D(null)}),5e3)})).catch((function(e){console.log("entro al error que yo queria!!!!"),console.log("error: ",e),I("Information of '".concat(n.name,"' has already been removed from server")),setTimeout((function(){I(null)}),5e3)})):void 0;O(n).then((function(e){D("Added ".concat(n.name)),setTimeout((function(){D(null)}),5e3),f(""),N(""),c(t.concat(e))})).catch((function(e){I(e.response.data.error),setTimeout((function(){I(null)}),5e3)}))},newName:j,handleNameChange:function(e){f(e.target.value)},newNumber:C,handleNumberChange:function(e){N(e.target.value)},setPersons:c})," ",Object(s.jsx)("h2",{children:" Numbers "})," ",Object(s.jsxs)("div",{children:[Object(s.jsx)(l,{arrayOfpersons:t,searchTerm:T,deleteButton:function(e){console.log("A ver si loguea este id que lo necesito!!!::::",e);var n=t.find((function(n){return n.id===e})).name;window.confirm("Delete ".concat(n," ?"))&&p(e).then((function(n){c(t.filter((function(n){return n.id!==e})))}))}})," "]})," "]})},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,o=n.getLCP,u=n.getTTFB;t(e),r(e),c(e),o(e),u(e)}))};u.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(w,{})}),document.getElementById("root")),C()},7:function(e,n,t){}},[[40,1,2]]]);
//# sourceMappingURL=main.7821d919.chunk.js.map