{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","services/backendCom.js","components/Notification.js","components/ErrorMsg.js","App.js","reportWebVitals.js","index.js"],"names":["Persons","arrayOfpersons","searchTerm","deleteButton","arrayToBeRendered","filter","person","name","toLowerCase","includes","map","number","onClick","id","Filter","handler","type","placeholder","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","baseUrl","axios","get","then","response","data","newPerson","post","delete","found","put","Notification","message","className","ErrorMsg","App","useState","persons","setPersons","setNewName","setNewNumber","newSearch","setNewSearch","succesMessage","setSuccesMessage","errorMessage","setErrorMessage","useEffect","backendCom","initialPersons","event","target","preventDefault","setTimeout","find","element","toUpperCase","window","confirm","result","console","log","catch","error","returndPersonAddedResponse","concat","personToBeDeleted","x","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+KA4BeA,EA1BC,SAAC,GAAkD,IAAhDC,EAA+C,EAA/CA,eAAgBC,EAA+B,EAA/BA,WAAYC,EAAmB,EAAnBA,aAC7C,GAA8B,qBAAnBF,EACT,OAAO,kCAGT,IAAMG,EAEW,KAAfF,EACID,EACAA,EAAeI,QAAO,SAACC,GAAD,OACpBA,EAAOC,KAAKC,cAAcC,SAASP,EAAWM,kBAEtD,OACE,+BACG,IACAJ,EAAkBM,KAAI,SAACJ,GAAD,OACrB,+BACG,IACAA,EAAOC,KAFV,IAEiBD,EAAOK,OAAQ,IAC9B,wBAAQC,QAAS,kBAAMT,EAAaG,EAAOO,KAA3C,sBAAkE,MAH3DP,EAAOC,SAKd,QCZKO,EATA,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAChB,OACE,qDAEE,uBAAOC,KAAK,SAASC,YAAY,YAAYC,SAAUH,QCwB9CI,EA5BI,SAAC,GAMb,IALLC,EAKI,EALJA,UACAC,EAII,EAJJA,QACAC,EAGI,EAHJA,iBACAC,EAEI,EAFJA,UACAC,EACI,EADJA,mBAEA,OACE,uBAAMC,SAAUL,EAAhB,UACE,yCACQ,uBAAOM,MAAOL,EAASH,SAAUI,OAEzC,0CAEE,uBACEN,KAAK,MACLC,YAAY,eACZS,MAAOH,EACPL,SAAUM,OAGd,8BACE,wBAAQR,KAAK,SAAb,uB,gBCvBFW,EAAU,eAwBD,EAtBA,WACX,OAAOC,IAAMC,IAAIF,GAASG,MAAK,SAACC,GAAD,OAAcA,EAASC,SAqB3C,EAlBS,SAACC,GAGrB,OAFgBL,IAAMM,KAAKP,EAASM,GAErBH,MAAK,SAACC,GAAD,OAAcA,EAASC,SAehC,EAZM,SAACnB,GAClB,OAAOe,IAAMO,OAAN,UAAgBR,EAAhB,YAA2Bd,IAAMiB,MAAK,SAACC,GAAD,OAAcA,EAASC,SAWzD,EARY,SAACI,EAAOH,GAC/B,OAAOL,IACFS,IADE,UACKV,EADL,YACgBS,EAAMvB,IAAMoB,GAC9BH,MAAK,SAACC,GACH,OAAOA,EAASC,SCbbM,EARM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACtB,OAAgB,OAAZA,EACK,KAGF,qBAAKC,UAAU,SAAf,SAAyBD,KCGnBE,EARE,SAAC,GAAiB,IAAfF,EAAc,EAAdA,QAClB,OAAgB,OAAZA,EACK,KAGF,qBAAKC,UAAU,QAAf,SAAwBD,KCyJlBG,EArJH,WAAO,IAAD,EACcC,qBADd,mBACTC,EADS,KACAC,EADA,OAEcF,mBAAS,IAFvB,mBAETtB,EAFS,KAEAyB,EAFA,OAGkBH,mBAAS,IAH3B,mBAGTpB,EAHS,KAGEwB,EAHF,OAIkBJ,mBAAS,IAJ3B,mBAITK,EAJS,KAIEC,EAJF,OAK0BN,mBAAS,MALnC,mBAKTO,EALS,KAKMC,EALN,OAMwBR,mBAAS,MANjC,mBAMTS,EANS,KAMKC,EANL,KAQhBC,qBAAU,WACRC,IAAoBzB,MAAK,SAAC0B,GAAD,OAAoBX,EAAWW,QACvD,IAiHH,OACE,gCACE,6CACA,cAAC,EAAD,CAAcjB,QAASW,IACvB,cAAC,EAAD,CAAUX,QAASa,IACnB,cAAC,EAAD,CAAQrC,QAnBe,SAAC0C,GAC1BR,EAAaQ,EAAMC,OAAOhC,UAc1B,IAI0C,qDAA6B,IACrE,cAAC,EAAD,CACEN,UAtHY,SAACqC,GACjBA,EAAME,iBACN,IAAM1B,EAAY,CAAE1B,KAAMc,EAASV,OAAQY,GAC3C,IAAKU,EAAU1B,KAKb,OAJA8C,EAAgB,wCAChBO,YAAW,WACTP,EAAgB,QACf,KAIL,IAAKpB,EAAUtB,OAKb,OAJA0C,EAAgB,wCAChBO,YAAW,WACTP,EAAgB,QACf,KAIL,IAAMjB,EAAQQ,EAAQiB,MACpB,SAACC,GAAD,OAAaA,EAAQvD,KAAKwD,gBAAkB1C,EAAQ0C,iBAGtD,GAAI3B,EAIF,OAH0B4B,OAAOC,QAAP,UACrBhC,EAAU1B,KADW,oFAIxBgD,EACsBnB,EAAOH,GAC1BH,MAAK,SAACoC,GACLC,QAAQC,IAAI,uBAAwBF,GACpCrB,EACED,EAAQlC,KAAI,SAACJ,GACX,OAAOA,EAAOO,KAAOuB,EAAMvB,GACvBP,EADG,2BAEEA,GAFF,IAEUK,OAAQsB,EAAUtB,aAIvCwC,EAAiB,iCAAD,OACmBlB,EAAUtB,SAE7CmC,EAAW,IACXC,EAAa,IAEba,YAAW,WACTT,EAAiB,QAChB,QAGJkB,OAAM,SAACC,GACNH,QAAQC,IAAI,oCACZD,QAAQC,IAAI,UAAWE,GACvBjB,EAAgB,mBAAD,OACMpB,EAAU1B,KADhB,2CAGfqD,YAAW,WACTP,EAAgB,QACf,aAMP,EAIJE,EACmBtB,GAChBH,MAAK,SAACyC,GACLpB,EAAiB,SAAD,OAAUlB,EAAU1B,OAEpCqD,YAAW,WACTT,EAAiB,QAChB,KACHL,EAAW,IACXC,EAAa,IACbF,EAAWD,EAAQ4B,OAAOD,OAE3BF,OAAM,SAACC,GACNjB,EAAgBiB,EAAMvC,SAASC,KAAKsC,OACpCV,YAAW,WACTP,EAAgB,QACf,SAkCHhC,QAASA,EACTC,iBA/BmB,SAACmC,GACxBX,EAAWW,EAAMC,OAAOhC,QA+BpBH,UAAWA,EACXC,mBA7BqB,SAACiC,GAC1BV,EAAaU,EAAMC,OAAOhC,QA6BtBmB,WAAYA,IACX,IACH,2CAAmB,IACnB,gCACE,cAAC,EAAD,CACE5C,eAAgB2C,EAChB1C,WAAY8C,EACZ7C,aA7Ba,SAACU,GACpBsD,QAAQC,IAAI,iDAAkDvD,GAC9D,IAAM4D,EAAoB7B,EAAQiB,MAAK,SAACa,GAAD,OAAOA,EAAE7D,KAAOA,KAAIN,KACjCyD,OAAOC,QAAP,iBAAyBQ,EAAzB,QAExBlB,EAAwB1C,GAAIiB,MAAK,SAACoC,GAChCrB,EAAWD,EAAQvC,QAAO,SAACC,GAAD,OAAYA,EAAOO,KAAOA,YAwBjD,OACE,QC7IE8D,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB/C,MAAK,YAAkD,IAA/CgD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,K","file":"static/js/main.7821d919.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Persons = ({ arrayOfpersons, searchTerm, deleteButton }) => {\n  if (typeof arrayOfpersons === \"undefined\") {\n    return <p> </p>;\n  }\n\n  const arrayToBeRendered =\n    //Este operador ternario devuelve el array completo si no hay termino de busqueda, si HAY termino de busqueda, va a devolver un filtrado del array en base a ese termino.\n    searchTerm === \"\"\n      ? arrayOfpersons\n      : arrayOfpersons.filter((person) =>\n          person.name.toLowerCase().includes(searchTerm.toLowerCase())\n        );\n  return (\n    <ul>\n      {\" \"}\n      {arrayToBeRendered.map((person) => (\n        <li key={person.name}>\n          {\" \"}\n          {person.name} {person.number}{\" \"}\n          <button onClick={() => deleteButton(person.id)}> Delete </button>{\" \"}\n        </li>\n      ))}{\" \"}\n    </ul>\n  );\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Filter = ({ handler }) => {\n  return (\n    <form>\n      filter shown with\n      <input type=\"search\" placeholder=\"Search...\" onChange={handler} />\n    </form>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  addPerson,\n  newName,\n  handleNameChange,\n  newNumber,\n  handleNumberChange,\n}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number:\n        <input\n          type=\"tel\"\n          placeholder=\"999-99999999\"\n          value={newNumber}\n          onChange={handleNumberChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">Add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n    return axios.get(baseUrl).then((response) => response.data);\n};\n\nconst createNewPerson = (newPerson) => {\n    const request = axios.post(baseUrl, newPerson);\n\n    return request.then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n    return axios.delete(`${baseUrl}/${id}`).then((response) => response.data);\n};\n\nconst replacePhoneNumber = (found, newPerson) => {\n    return axios\n        .put(`${baseUrl}/${found.id}`, newPerson)\n        .then((response) => {\n            return response.data\n        });\n};\n\nexport default {\n    getAll,\n    createNewPerson,\n    deletePerson,\n    replacePhoneNumber,\n};","const Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className=\"succes\">{message}</div>;\n};\n\nexport default Notification;\n","const ErrorMsg = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className=\"error\">{message}</div>;\n};\n\nexport default ErrorMsg;\n","import React, { useState, useEffect } from \"react\";\nimport Persons from \"./components/Persons\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport backendCom from \"./services/backendCom\";\nimport \"./index.css\";\nimport Notification from \"./components/Notification\";\nimport ErrorMsg from \"./components/ErrorMsg\";\n\nconst App = () => {\n  const [persons, setPersons] = useState();\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newSearch, setNewSearch] = useState(\"\");\n  const [succesMessage, setSuccesMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    backendCom.getAll().then((initialPersons) => setPersons(initialPersons));\n  }, []);\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const newPerson = { name: newName, number: newNumber };\n    if (!newPerson.name) {\n      setErrorMessage(`You must provide a contact name`);\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 5000);\n      return;\n    }\n\n    if (!newPerson.number) {\n      setErrorMessage(`You must provide a phone number`);\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 5000);\n      return;\n    }\n\n    const found = persons.find(\n      (element) => element.name.toUpperCase() === newName.toUpperCase()\n    );\n\n    if (found) {\n      let confirmationMessage = window.confirm(\n        `${newPerson.name} is already added to phonebook, replace the older number with a new one? ?`\n      );\n      if (confirmationMessage) {\n        backendCom\n          .replacePhoneNumber(found, newPerson)\n          .then((result) => {\n            console.log(\"result que no anda: \", result);\n            setPersons(\n              persons.map((person) => {\n                return person.id !== found.id\n                  ? person\n                  : { ...person, number: newPerson.number };\n              })\n            );\n\n            setSuccesMessage(\n              `Number succesfully changed to ${newPerson.number}`\n            );\n            setNewName(\"\");\n            setNewNumber(\"\");\n\n            setTimeout(() => {\n              setSuccesMessage(null);\n            }, 5000);\n          })\n\n          .catch((error) => {\n            console.log(\"entro al error que yo queria!!!!\");\n            console.log(\"error: \", error);\n            setErrorMessage(\n              `Information of '${newPerson.name}' has already been removed from server`\n            );\n            setTimeout(() => {\n              setErrorMessage(null);\n            }, 5000);\n            // setNotes(notes.filter((n) => n.id !== id));\n          });\n\n        return;\n      } else {\n        return;\n      }\n    }\n\n    backendCom\n      .createNewPerson(newPerson)\n      .then((returndPersonAddedResponse) => {\n        setSuccesMessage(`Added ${newPerson.name}`);\n\n        setTimeout(() => {\n          setSuccesMessage(null);\n        }, 5000);\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setPersons(persons.concat(returndPersonAddedResponse));\n      })\n      .catch((error) => {\n        setErrorMessage(error.response.data.error);\n        setTimeout(() => {\n          setErrorMessage(null);\n        }, 5000);\n      });\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearchChange = (event) => {\n    setNewSearch(event.target.value);\n  };\n\n  const deleteButton = (id) => {\n    console.log(\"A ver si loguea este id que lo necesito!!!::::\", id);\n    const personToBeDeleted = persons.find((x) => x.id === id).name;\n    let confirmationMessage = window.confirm(`Delete ${personToBeDeleted} ?`);\n    if (confirmationMessage) {\n      backendCom.deletePerson(id).then((result) => {\n        setPersons(persons.filter((person) => person.id !== id));\n      });\n    }\n  };\n  return (\n    <div>\n      <h2> Phonebook </h2>\n      <Notification message={succesMessage} />\n      <ErrorMsg message={errorMessage} />\n      <Filter handler={handleSearchChange} /> <h2> add a new contact </h2>{\" \"}\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n        setPersons={setPersons}\n      />{\" \"}\n      <h2> Numbers </h2>{\" \"}\n      <div>\n        <Persons\n          arrayOfpersons={persons}\n          searchTerm={newSearch}\n          deleteButton={deleteButton}\n        />{\" \"}\n      </div>{\" \"}\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}