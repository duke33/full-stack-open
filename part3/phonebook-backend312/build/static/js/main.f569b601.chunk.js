(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{39:function(e,n,t){"use strict";t.r(n);var r=t(1),c=t.n(r),a=t(15),o=t.n(a),u=(t(6),t(3)),i=t(0),s=function(e){var n=e.arrayOfpersons,t=e.searchTerm,r=e.deleteButton;if("undefined"===typeof n)return Object(i.jsx)("p",{children:" "});var c=""===t?n:n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return Object(i.jsxs)("ul",{children:[" ",c.map((function(e){return Object(i.jsxs)("li",{children:[" ",e.name," ",e.number," ",Object(i.jsx)("button",{onClick:function(){return r(e.id)},children:" Delete "})," "]},e.name)}))," "]})},l=function(e){var n=e.handler;return Object(i.jsxs)("form",{children:["filter shown with",Object(i.jsx)("input",{type:"search",placeholder:"Search...",onChange:n})]})},d=function(e){var n=e.addPerson,t=e.newName,r=e.handleNameChange,c=e.newNumber,a=e.handleNumberChange;return Object(i.jsxs)("form",{onSubmit:n,children:[Object(i.jsxs)("div",{children:["name: ",Object(i.jsx)("input",{value:t,onChange:r})]}),Object(i.jsxs)("div",{children:["number:",Object(i.jsx)("input",{type:"number",value:c,onChange:a})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"submit",children:"Add"})})]})},j=t(4),b=t.n(j),h="/api/persons",f=function(){return b.a.get(h).then((function(e){return e.data}))},m=function(e){return b.a.post(h,e).then((function(e){return e.data}))},O=function(e){return b.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))},p=function(e,n){return b.a.put("".concat(h,"/").concat(e.id),n).then((function(e){return e.data}))},v=function(e){var n=e.message;return null===n?null:Object(i.jsx)("div",{className:"succes",children:n})},x=function(e){var n=e.message;return null===n?null:Object(i.jsx)("div",{className:"error",children:n})},g=function(){var e=Object(r.useState)(),n=Object(u.a)(e,2),t=n[0],c=n[1],a=Object(r.useState)(""),o=Object(u.a)(a,2),j=o[0],b=o[1],h=Object(r.useState)(""),g=Object(u.a)(h,2),w=g[0],C=g[1],N=Object(r.useState)(""),y=Object(u.a)(N,2),S=y[0],k=y[1],T=Object(r.useState)(null),P=Object(u.a)(T,2),B=P[0],D=P[1],F=Object(r.useState)(null),L=Object(u.a)(F,2),q=L[0],I=L[1];Object(r.useEffect)((function(){f().then((function(e){return c(e)}))}),[]);return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:" Phonebook "}),Object(i.jsx)(v,{message:B}),Object(i.jsx)(x,{message:q}),Object(i.jsx)(l,{handler:function(e){k(e.target.value)}})," ",Object(i.jsx)("h2",{children:" add a new "})," ",Object(i.jsx)(d,{addPerson:function(e){e.preventDefault();var n={name:j,number:w},r=t.find((function(e){return e.name.toUpperCase()===j.toUpperCase()}));if(r)return window.confirm("".concat(n.name," is already added to phonebook, replace the older numberl with a new one? ?"))?void p(r,n).then((function(e){console.log("result que no anda: ",e),c(t.map((function(n){return n.id!==r.id?n:e}))),D("Number succesfully changed to ".concat(n.number)),setTimeout((function(){D(null)}),5e3)})).catch((function(e){console.log("entro al error que yo queria!!!!"),console.log("error: ",e),I("Information of '".concat(n.name,"' has already been removed from server")),setTimeout((function(){I(null)}),5e3)})):void 0;m(n).then((function(e){return c(e)})),D("Added ".concat(n.name)),setTimeout((function(){D(null)}),5e3),b(""),C("")},newName:j,handleNameChange:function(e){b(e.target.value)},newNumber:w,handleNumberChange:function(e){C(e.target.value)},setPersons:c})," ",Object(i.jsx)("h2",{children:" Numbers "})," ",Object(i.jsxs)("div",{children:[Object(i.jsx)(s,{arrayOfpersons:t,searchTerm:S,deleteButton:function(e){var n=t.find((function(n){return n.id===e})).name;window.confirm("Delete ".concat(n," ?"))&&O(e).then((function(n){c(t.filter((function(n){return n.id!==e})))}))}})," "]})," "]})},w=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,40)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),r(e),c(e),a(e),o(e)}))};o.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(g,{})}),document.getElementById("root")),w()},6:function(e,n,t){}},[[39,1,2]]]);
//# sourceMappingURL=main.f569b601.chunk.js.map