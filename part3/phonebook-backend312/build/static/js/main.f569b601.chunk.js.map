{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","services/backendCom.js","components/Notification.js","components/ErrorMsg.js","App.js","reportWebVitals.js","index.js"],"names":["Persons","arrayOfpersons","searchTerm","deleteButton","arrayToBeRendered","filter","person","name","toLowerCase","includes","map","number","onClick","id","Filter","handler","type","placeholder","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","baseUrl","axios","get","then","response","data","newPerson","post","delete","found","put","Notification","message","className","ErrorMsg","App","useState","persons","setPersons","setNewName","setNewNumber","newSearch","setNewSearch","succesMessage","setSuccesMessage","errorMessage","setErrorMessage","useEffect","backendCom","initialPersons","event","target","preventDefault","find","element","toUpperCase","window","confirm","result","console","log","setTimeout","catch","error","returndPersonAddedResponse","personToBeDeleted","x","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f569b601.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Persons = ({ arrayOfpersons, searchTerm, deleteButton }) => {\n  if (typeof arrayOfpersons === \"undefined\") {\n    return <p> </p>;\n  }\n\n  const arrayToBeRendered =\n    //Este operador ternario devuelve el array completo si no hay termino de busqueda, si HAY termino de busqueda, va a devolver un filtrado del array en base a ese termino.\n    searchTerm === \"\"\n      ? arrayOfpersons\n      : arrayOfpersons.filter((person) =>\n          person.name.toLowerCase().includes(searchTerm.toLowerCase())\n        );\n\n  return (\n    <ul>\n      {\" \"}\n      {arrayToBeRendered.map((person) => (\n        <li key={person.name}>\n          {\" \"}\n          {person.name} {person.number}{\" \"}\n          <button onClick={() => deleteButton(person.id)}> Delete </button>{\" \"}\n        </li>\n      ))}{\" \"}\n    </ul>\n  );\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Filter = ({ handler }) => {\n  return (\n    <form>\n      filter shown with\n      <input type=\"search\" placeholder=\"Search...\" onChange={handler} />\n    </form>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  addPerson,\n  newName,\n  handleNameChange,\n  newNumber,\n  handleNumberChange,\n}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number:\n        <input type=\"number\" value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">Add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n    return axios.get(baseUrl).then((response) => response.data);\n};\n\nconst createNewPerson = (newPerson) => {\n    const request = axios.post(baseUrl, newPerson);\n\n    return request.then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n    return axios.delete(`${baseUrl}/${id}`).then((response) => response.data);\n};\n\nconst replacePhoneNumber = (found, newPerson) => {\n    const responsePuntoData = axios\n        .put(`${baseUrl}/${found.id}`, newPerson)\n        .then((response) => response.data);\n    return responsePuntoData;\n};\n\nexport default {\n    getAll,\n    createNewPerson,\n    deletePerson,\n    replacePhoneNumber,\n};","const Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className=\"succes\">{message}</div>;\n};\n\nexport default Notification;\n","const ErrorMsg = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className=\"error\">{message}</div>;\n};\n\nexport default ErrorMsg;\n","import React, { useState, useEffect } from \"react\";\nimport Persons from \"./components/Persons\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport backendCom from \"./services/backendCom\";\nimport \"./index.css\";\nimport Notification from \"./components/Notification\";\nimport ErrorMsg from \"./components/ErrorMsg\";\n\nconst App = () => {\n  const [persons, setPersons] = useState();\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newSearch, setNewSearch] = useState(\"\");\n  const [succesMessage, setSuccesMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    backendCom.getAll().then((initialPersons) => setPersons(initialPersons));\n  }, []);\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const newPerson = { name: newName, number: newNumber };\n\n    const found = persons.find(\n      (element) => element.name.toUpperCase() === newName.toUpperCase()\n    );\n\n    if (found) {\n      let confirmationMessage = window.confirm(\n        `${newPerson.name} is already added to phonebook, replace the older numberl with a new one? ?`\n      );\n      if (confirmationMessage) {\n        backendCom\n          .replacePhoneNumber(found, newPerson)\n          .then((result) => {\n            console.log(\"result que no anda: \", result); //TODO aca vas a tener que cambiar algo mas adelante\n            setPersons(\n              persons.map((person) =>\n                person.id !== found.id ? person : result\n              )\n            );\n\n            setSuccesMessage(\n              `Number succesfully changed to ${newPerson.number}`\n            );\n\n            setTimeout(() => {\n              setSuccesMessage(null);\n            }, 5000);\n          })\n\n          .catch((error) => {\n            console.log(\"entro al error que yo queria!!!!\");\n            console.log(\"error: \", error);\n            setErrorMessage(\n              `Information of '${newPerson.name}' has already been removed from server`\n            );\n            setTimeout(() => {\n              setErrorMessage(null);\n            }, 5000);\n            // setNotes(notes.filter((n) => n.id !== id));\n          });\n\n        return;\n      } else {\n        return;\n      }\n    }\n\n    backendCom\n      .createNewPerson(newPerson)\n      .then((returndPersonAddedResponse) =>\n        setPersons(returndPersonAddedResponse)\n      );\n    setSuccesMessage(`Added ${newPerson.name}`);\n\n    setTimeout(() => {\n      setSuccesMessage(null);\n    }, 5000);\n\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handlSearchChange = (event) => {\n    setNewSearch(event.target.value);\n  };\n\n  const deleteButton = (id) => {\n    const personToBeDeleted = persons.find((x) => x.id === id).name;\n    let confirmationMessage = window.confirm(`Delete ${personToBeDeleted} ?`);\n    if (confirmationMessage) {\n      backendCom.deletePerson(id).then((result) => {\n        setPersons(persons.filter((person) => person.id !== id));\n      });\n    }\n  };\n  return (\n    <div>\n      <h2> Phonebook </h2>\n      <Notification message={succesMessage} />\n      <ErrorMsg message={errorMessage} />\n      <Filter handler={handlSearchChange} /> <h2> add a new </h2>{\" \"}\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n        setPersons={setPersons}\n      />{\" \"}\n      <h2> Numbers </h2>{\" \"}\n      <div>\n        <Persons\n          arrayOfpersons={persons}\n          searchTerm={newSearch}\n          deleteButton={deleteButton}\n        />{\" \"}\n      </div>{\" \"}\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}